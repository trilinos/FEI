INCLUDE(PackageAddExecutableAndTest)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/../)
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR}/../base/)
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/../base/)
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/../support-Trilinos)

ASSERT_DEFINED(FEI_ENABLE_Teuchos)
IF(FEI_ENABLE_Teuchos)

  INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR}/../../teuchos/src)
  INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/../../teuchos/src)

  PACKAGE_ADD_EXECUTABLE_AND_TEST(
    fei_unit_tests
    SOURCES fei_unit_tests.cpp
    ARGS "-d ."
    COMM serial mpi
    NUM_MPI_PROCS 1
    )

ENDIF()
